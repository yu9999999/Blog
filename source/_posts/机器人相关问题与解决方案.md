---
title: 实体机器人相关问题与解决方案
date: 2023-10-19
tags:
- 机器人
categories:
- 机器人
password: yz147258369
message: 保密
aside: false
---

## 1. 出现control loop miss ...  20hz警告

没有休眠所以出现警告，是因为计算时间太长所以没有休眠，程序无法修改优化情况下，删除或注释RCLCPP_INFO打印信息，如果进行原地旋转，每次进入transformposetobaseframe也耗时，所以尽量不要进入trans程序，可以在该程序设置条件限制

## 2. 出现failed to make progress错误

因为机器人在检查时，几秒钟没有动，可以修改参数movement_time_allowance

## 3. 机器人转向后起步不正常

研究发现是机器人转向后速度没有降为0，然后再走直线就会出现不正常现象。可以通过sleep解决,比如休眠1s
``` bash
$ sleep(1);
```
备注：也可以在速度上进行条件限制或者平滑

## 4. 机器人设置转向速度最高为0.6，但是实际运行只能达到0.3

因为电机不匹配，将控制频率从20hz降到10hz

## 5. xy_goal_tolerance设置过小时，机器人移动不平滑（dwb）

假设xy_goal_tolerance=0.5、max_vel_x=0.3、sim_time=1.6，则机器人在距离目标点0.5m发布速度为0。假设xy_goal_tolerance=0.2、max_vel_x=0.3、sim_time=1.6，则机器人在距离目标点0.48m开始减速（因为保持原速度，规划出的路线已经超过目标点，此时评分不是最优），直到距离目标点0.2m，机器人发布速度为0。所以当xy_goal_tolerance设置过小时，机器人发布的速度逐渐减小，该过程会导致机器人抖动。

解决办法：修改评分逻辑，具体不展示

